# Bobruiko.com - AI Project Reference

**Quick Reference Guide for AI Assistants**

## Project Overview
- **Type**: Gatsby-based multilingual psychology/mental health website
- **Owner**: Olesia Bobruiko (Psychologist)
- **Tech Stack**: Gatsby v5, React, LESS, Decap CMS
- **Languages**: Ukrainian (UK - default), Russian (RU), English (EN)
- **URL**: https://www.bobruiko.com

## Key Configuration

### Languages
```javascript
languages: [
  { title: 'UK', icon: 'ğŸ‡ºğŸ‡¦', isDefault: true },
  { title: 'RU', icon: 'ğŸ‡·ğŸ‡º', isDefault: false },
  { title: 'EN', icon: 'ğŸ‡ºğŸ‡¸', isDefault: false }
]
```

### Content Structure
All content is in Markdown with frontmatter (Decap CMS compatible):

```
content/
â”œâ”€â”€ articles_files/          # Blog articles
â”œâ”€â”€ homepage/               # Homepage sections (hero, services, reviews, etc.)
â”œâ”€â”€ pages/                  # Static pages (privacy-policy, Ğ¿Ñ€Ğ¾-Ğ¼ĞµĞ½Ğµ, etc.)
â”œâ”€â”€ questionnaires/         # Psychological questionnaires (GAD-7, PHQ-9, etc.)
â”œâ”€â”€ resources/              # Resources (values, activities catalogue)
â””â”€â”€ settings/               # Site configuration (navbar, footer, certificates)
```

## Questionnaires Structure

### Key Fields in Questionnaire Markdown:
```yaml
title: "Questionnaire Title"
publishTime: "2021-12-27T07:54:58.454Z"
showInLists: true
content:                    # Array of language versions
  - path: "/questionnaires/gad-7"
    language: "EN"
    title: "..."
    description: "..."
    instruction: "..."
    questions:              # Array of questions
      - text: "Question text"
        subscale: "default"
        minScore: 0
        answers:            # Array of answer options
          - text: "Answer text"
            value: 0
    results:               # Score-based results
      - text: "Result description with recommendations"
        minScore: 0
        maxScore: 4
        subscale: "default"
        color: "#00b77b"   # Result color indicator
    resultTemplate: "Your results: {0}"
    copyResultsTemplate: "..."
```

### Important Questionnaire Properties:
- **Multiple language versions** in single file (array in `content` field)
- **`color` field** in results: hex color for visual result indicator
- **Subscales**: Support for multi-subscale questionnaires (default subscale for simple ones)
- **Dynamic content**: `recommendedContent`, `recommendedContentTitle`
- **SEO**: `metaDescription`, `fbDescription`, `image`, `image_alt`

## Source Code Structure

```
src/
â”œâ”€â”€ config.js              # Global config (API URLs, languages, settings)
â”œâ”€â”€ helpers.js             # Utility functions
â”œâ”€â”€ cms/                   # Decap CMS configuration
â”œâ”€â”€ components/            # Reusable React components
â”‚   â”œâ”€â”€ SEO/
â”‚   â”œâ”€â”€ navigation/
â”‚   â”œâ”€â”€ article-card/
â”‚   â”œâ”€â”€ markdown/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ templates/             # Gatsby page templates
â”‚   â”œâ”€â”€ articles/
â”‚   â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ questionnaires/    # Questionnaire functionality
â”‚   â”œâ”€â”€ resources/
â”‚   â””â”€â”€ values/
â”œâ”€â”€ layouts/               # Layout wrappers
â””â”€â”€ pages/                 # Static pages
```

## Templates
- **Articles**: `/src/templates/articles/index.js`
- **Questionnaires**: `/src/templates/questionnaires/index.js`
- **Pages**: `/src/templates/pages/index.js`
- **Resources**: `/src/templates/resources/index.js`

## Build & Deploy
- **Build**: `pnpm build` â†’ generates to `/public`
- **Dev**: `pnpm develop`
- **Deploy**: Netlify (auto-deploy from git)
- **Functions**: Netlify functions in `/netlify/functions/`
- **âš ï¸ npm install**: Always use `--legacy-peer-deps` flag due to dependency conflicts

## Important File Patterns

### Content Files:
- All markdown files have YAML frontmatter
- Multi-language content: array in `content` field with `language` property
- Images: stored in `/static/assets/uploads/`
- Articles: Ukrainian titles in kebab-case URLs

### Common Frontmatter Properties:
```yaml
title: "..."
publishTime: "ISO date"
content:                    # Language versions
  - language: "UK"
    path: "/path"
    title: "..."
    description: "..."
    metaDescription: "..."
    fbDescription: "..."
    image: "/assets/uploads/..."
```

## CMS Notes
- Uses **Decap CMS** (formerly Netlify CMS)
- Admin accessible at `/admin`
- Markdown with custom collections
- Image uploads to `/static/assets/uploads/`

## Common Tasks Reference

### When editing questionnaires:
1. Each language version is in `content` array
2. Colors are hex strings in `results[].color`
3. Questions/answers are nested arrays
4. Results are score-based with `minScore`/`maxScore`

### When adding content:
1. Follow existing frontmatter structure
2. Add language versions as array items in `content`
3. Use relative paths for images (`/assets/uploads/...`)
4. Maintain consistent property names across languages

## API Endpoints
- Subscribe: Firebase Realtime DB
- Contact Form: Firebase Realtime DB
- Form handler: Netlify function at `/netlify/functions/form-handler.mjs`

---
*Generated for AI assistant context - Last updated: January 2026*
